<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“ƒmemoğŸ“ƒ</title>
    
    <style>
        h1 {
            text-align: center;
        }

        section {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        input {
            display: block;
            width: 300px;
            height: 30px;
            margin-bottom: 10px;
        }

        textarea {
            display: block;
            width: 300px;
            height: 300px;
            margin-bottom: 10px;
        }

        button {
            display: block;
            width: 306px;
            height: 30px;
        }

        ul {
            list-style: none;
        }
    </style>
</head>
<body>
    <h1>ë©”ëª¨ì¥</h1>
    <section>
        <input type="text" id="memotitle" />
        <textarea id="memo"></textarea>
        <button id="memosubmit" type="button">ë©”ëª¨</button>
        <ul class="memolists"></ul>
    </section>
</body>

<script>

// ë©”ëª¨ ì œëª© í•¨ìˆ˜
function getMemoTitle() {
    const memoTitle = document.querySelector("#memotitle").value;
    return memoTitle;
}

//ë©”ëª¨ ë‚´ìš© í•¨ìˆ˜
function getMemoContent(){
    const memoContent= document.querySelector("#memo").value;
    return memoContent;
}

// ë©”ëª¨ ë²„íŠ¼ ëˆ„ë¥´ë©´ inputì´ ì´ˆê¸°í™” ë˜ëŠ” í•¨ìˆ˜
function resetInput() {
    document.querySelector("#memotitle").value = "";
    document.querySelector("#memo").value = "";
}

// ë©”ëª¨ ìƒì„± í•¨ìˆ˜
function createMemo() {
    const title = getMemoTitle();
    const content = getMemoContent();

    const memoObj = {
    title: title,
    content: content,
    };

    return memoObj;
}

// ë©”ëª¨ ë‚´ìš©ì„ ë‹´ëŠ” ë°°ì—´
const memolists = [];

// ë©”ëª¨ ì €ì¥ í•¨ìˆ˜
function saveMemo(memo) {
    memolists.push(memo);
}

// ì €ì¥í• ê±´ë° ~ ì–´ë–¤ í˜•íƒœë¡œ ì €ì¥ì´ ë˜ëŠ”ê°€?
// ë©”ëª¨ ì‘ì„±ì‹œ ë°‘ì— ë³´ì—¬ì§€ëŠ” 'ìš”ì†Œ' í•¨ìˆ˜
function createMemoLi(memo) {
    const $memoLi = document.createElement("li");
    const $title = document.createElement("strong");
    const $content = document.createElement("p");
    $title.innerHTML = memo.title;
    $content.innerHTML = memo.content;
    $memoLi.append($title, $content);

    return $memoLi;
}

// ë©”ëª¨ ì‘ì„±ì‹œ ë°‘ì— ë³´ì—¬ì§€ëŠ” 'ìš”ì†Œ'ë“¤ í•¨ìˆ˜
function showMemo() {
    const $memoLists = memolists.map(createMemoLi);
    const $memoUl = document.querySelector(".memolists");
    $memoUl.innerHTML = "";
    $memoUl.append(...$memoLists);
}

// ë©”ëª¨ ë²„íŠ¼ ì´ë²¤íŠ¸
function buttonOnclickHandler() {
    const memo = createMemo();
    saveMemo(memo);
    showMemo();
    resetInput();
}

const $memoButton = document.querySelector("#memosubmit");
$memoButton.onclick = buttonOnclickHandler;
</script>
</html>
